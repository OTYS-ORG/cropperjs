import{_ as m,c as d,j as o,ai as s,aj as l,o as h,p as f,l as v,a3 as _}from"./framework.BfpcyO4v.js";var w={BASE_URL:"/cropperjs/v2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{BASE_URL:C}=w,b={name:"CropperSelectionExample",data(){return{src:`${C}picture.jpg`,within:"canvas"}},methods:{inSelection(t,e){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height},onCropperImageTransform(t){const e=this.$refs.cropperCanvas;if(!e||this.within!=="image")return;const p=this.$refs.cropperImage,c=this.$refs.cropperSelection,i=e.getBoundingClientRect(),r=p.cloneNode();r.style.transform=`matrix(${t.detail.matrix.join(", ")})`,r.style.opacity="0",e.appendChild(r);const n=r.getBoundingClientRect();e.removeChild(r);const u=c,g={x:n.left-i.left,y:n.top-i.top,width:n.width,height:n.height};this.inSelection(u,g)||t.preventDefault()},onCropperSelectionChange(t){const e=this.$refs.cropperCanvas;if(!e||this.within==="none")return;const p=e.getBoundingClientRect(),c=t.detail;switch(this.within){case"canvas":{const i={x:0,y:0,width:p.width,height:p.height};this.inSelection(c,i)||t.preventDefault();break}case"image":{const r=this.$refs.cropperImage.getBoundingClientRect(),n={x:r.left-p.left,y:r.top-p.top,width:r.width,height:r.height};this.inSelection(c,n)||t.preventDefault();break}}}}},a=t=>(f("data-v-7d85ab42"),t=t(),v(),t),I={class:"cropper-container"},S=a(()=>o("legend",null,"Within:",-1)),y=a(()=>o("label",{for:"inputWithinCanvas"},"canvas",-1)),R=a(()=>o("label",{for:"inputWithinImage"},"image",-1)),x=a(()=>o("label",{for:"inputWithinNone"},"none",-1)),z=["src"],B=a(()=>o("cropper-handle",{action:"move",plain:""},null,-1)),k=a(()=>o("cropper-grid",{role:"grid",covered:""},null,-1)),D=a(()=>o("cropper-crosshair",{centered:""},null,-1)),E=a(()=>o("cropper-handle",{action:"move","theme-color":"rgba(255, 255, 255, 0.35)"},null,-1)),W=_('<cropper-handle action="n-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="e-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="s-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="w-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="ne-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="nw-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="se-resize" data-v-7d85ab42></cropper-handle><cropper-handle action="sw-resize" data-v-7d85ab42></cropper-handle>',8),V=[k,D,E,W];function j(t,e,p,c,i,r){return h(),d("div",I,[o("form",null,[o("fieldset",null,[S,s(o("input",{id:"inputWithinCanvas","onUpdate:modelValue":e[0]||(e[0]=n=>i.within=n),type:"radio",name:"within",value:"canvas"},null,512),[[l,i.within]]),y,s(o("input",{id:"inputWithinImage","onUpdate:modelValue":e[1]||(e[1]=n=>i.within=n),type:"radio",name:"within",value:"image"},null,512),[[l,i.within]]),R,s(o("input",{id:"inputWithinNone","onUpdate:modelValue":e[2]||(e[2]=n=>i.within=n),type:"radio",name:"within",value:"none"},null,512),[[l,i.within]]),x])]),(h(),d("cropper-canvas",{ref:"cropperCanvas",key:i.within,background:""},[o("cropper-image",{ref:"cropperImage",src:i.src,alt:"Picture",rotatable:"",scalable:"",skewable:"",translatable:"",onTransform:e[3]||(e[3]=(...n)=>r.onCropperImageTransform&&r.onCropperImageTransform(...n))},null,40,z),B,o("cropper-selection",{ref:"cropperSelection","initial-coverage":"0.5",movable:"",resizable:"",outlined:"",onChange:e[4]||(e[4]=(...n)=>r.onCropperSelectionChange&&r.onCropperSelectionChange(...n))},V,544)]))])}const U=m(b,[["render",j],["__scopeId","data-v-7d85ab42"]]);export{U as default};
